<body>
<form>
  <h1 id="header"> How much you can save with NovemberFirst Premium? </h1>
  <div id="box-section">
    <div id="box-from">
      <mat-form-field id="fromCountry" appearance="outline" class="from">
        <mat-label>From country</mat-label>
        <mat-select>
          <mat-option #country
                      value="coun"
                      (blur)="selectCountryFrom(coun.abbreviation)"
                      (onSelectionChange)="onEnterCountryFrom($event, coun.abbreviation, coun.country)"
                      *ngFor="let coun of countrs"
          > {{ coun.abbreviation }}   ({{coun.country}})
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field id="fromCurrency" appearance="outline" class="from">
        <mat-label>From currency</mat-label>
        <mat-select>
          <mat-option #currency
                      value="c"
                      (blur)="selectCurrencyFrom(c.currency)"
                      (onSelectionChange)="onEnterCurrencyFrom($event, c.currency)"
                      *ngFor="let c of curr"
          > {{ c.currency }} {{c.unit_text}} </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div id="box-icon">
      <mat-icon id="exchange-icon" svgIcon="exchange-arrows"></mat-icon>
    </div>

    <div id="box-to">
      <mat-form-field id="toCountry" appearance="outline" class="to">
        <mat-label>To country</mat-label>
        <mat-select>
          <mat-option #country
                      value="coun"
                      (blur)="selectCountryTo(coun.abbreviation)"
                      (onSelectionChange)="onEnterCountryTo($event, coun.abbreviation, coun.country)"
                      *ngFor="let coun of countrs"
          > {{ coun.abbreviation }}   ({{coun.country}})
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field id="toCurrency" appearance="outline" class="to">
        <mat-label>To currency</mat-label>
        <mat-select>
          <mat-option #currency
                      value="c"
                      (blur)="selectCurrencyTo(c.currency)"
                      (onSelectionChange)="onEnterCurrencyTo($event, c.currency)"
                      *ngFor="let c of curr"> {{ c.currency }} {{c.unit_text}} </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <p>
    <mat-form-field appearance="outline" class="lined">
      <mat-label>Amount of money</mat-label>
      <input #amountMone
             type="number"
             matInput>
    </mat-form-field>
  </p>

  <p>
    <mat-form-field id="transactionYearly" appearance="outline" class="lined">
      <mat-label>Number of transactions yearly</mat-label>
      <input #transactions
             type="number"
             matInput>
    </mat-form-field>
  </p>

  <button mat-raised-button id="button"
          (click)="submitForm(amountMone.value, transactions.value)">Calculate
  </button>

  <mat-card id="prediction">
    <mat-card-title>
      <mat-icon id="exlamation-icon"></mat-icon>
      This is calculated prediction, the final cost may vary depending on bankâ€™s exchange fees.
    </mat-card-title>
  </mat-card>
</form>
<br>

<mat-card id="summary" *ngIf="submitSent">
  <mat-card-title>
    <mat-icon id="money-icon"></mat-icon>
    Transferring {{ amountMone.value }} {{ selectedCurrencyTo }} from {{ selectedCountryFromFull }} to {{ selectedCountryToFull }}, {{ transactions.value }} times..
  </mat-card-title>
</mat-card>


<mat-progress-spinner class="spinner"
                      mode="indeterminate"
                      *ngIf="isLoading">
</mat-progress-spinner>

<div *ngIf="!isLoaded">
  <h1>List of the banks</h1>
  <table mat-table [dataSource]="results">

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Bank</th>
      <td mat-cell *matCellDef="let bank"> {{bank.name}} </td>
    </ng-container>

    <ng-container matColumnDef="exchangeRate">
      <th mat-header-cell *matHeaderCellDef> Exchange rate</th>
      <td mat-cell *matCellDef="let bank"> {{bank.exchangeRate}} </td>
    </ng-container>

    <ng-container matColumnDef="totalFee">
      <th mat-header-cell *matHeaderCellDef> Extra Fee</th>
      <td mat-cell *matCellDef="let bank"> {{bank.totalFee}} </td>
    </ng-container>

    <ng-container matColumnDef="totalCost">
      <th mat-header-cell *matHeaderCellDef> Total Cost</th>
      <td mat-cell *matCellDef="let bank"> {{bank.totalCost}} </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

</div>

<br>

<div id="section-buttons" *ngIf="isLoaded">
  <button mat-raised-button class="bottom-button"> Create an account
  </button>
  <button mat-raised-button class="bottom-button"> Query a demo
  </button>
</div>

<br>
<br>

</body>
